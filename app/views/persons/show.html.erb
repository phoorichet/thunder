<div class="page-header">
  <%= link_to persons_path, class: 'btn btn-default' do %>
    <span class="glyphicon glyphicon-list-alt"></span>
    Back
  <% end %>
  <%= link_to edit_person_path(@person), class: 'btn btn-primary' do %>
    <span class="glyphicon glyphicon-pencil"></span>
    Edit
  <% end %>
  <h1>Show person</h1>
</div>

<dl class="dl-horizontal">
  <dt>First name:</dt>
  <dd><%= @person.first_name %></dd>

  <dt>Last name:</dt>
  <dd><%= @person.last_name %></dd>

  <dt>Gender:</dt>
  <dd><%= @person.gender %></dd>

  <dt>Date of birth:</dt>
  <dd><%= @person.date_of_birth %></dd>

  <dt>Marital status:</dt>
  <dd><%= @person.marital_status %></dd>

  <dt>Spouse:</dt>
  <dd><%= @person.spouse_id %></dd>

  <dt>Income:</dt>
  <dd><%= @person.income %></dd>

  <dt>National:</dt>
  <dd><%= @person.national_id %></dd>

  <dt>Passport:</dt>
  <dd><%= @person.passport_id %></dd>

  <dt>Height:</dt>
  <dd><%= @person.height %></dd>

  <dt>Weight:</dt>
  <dd><%= @person.weight %></dd>

  <dt>Occupation:</dt>
  <dd><%= @person.occupation %></dd>

  <dt>Person type:</dt>
  <dd><%= @person.person_type %></dd>

  <dt>Is smoking:</dt>
  <dd><%= @person.is_smoking %></dd>

</dl>

<section class="relation">
  <div class="page-header">
    <%= link_to new_relation_person_path(@person), class: 'btn btn-primary' do %>
      <span class="glyphicon glyphicon-plus"></span>
      Add
    <% end %>
    <h1>Relations</h1>
  </div>

  <table class="table table-striped table-bordered table-hover">
    <thead>
      <tr>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Relation</th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @person.relations.each do |person| %>
        <tr>
          <td><%= person.first_name %></td>
          <td><%= person.last_name %></td>
          <td><%= person.relation_desc %></td>
          <td><%= link_to 'Show', person_path(person) %></td>
          <td><%= link_to 'Destroy', delete_relation_person_path(@person, uid: person.id, relation_desc: person.relation_desc) , method: :delete, data: { confirm: 'Are you sure?' } %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
  
</section>


<section class="book">
  <h1 class="text-center">Books</h1>
  
      <table class="table table-hover">
        <thead>
          <tr>
            <th>Number</th>
            <th>Begin at</th>
            <th>End at</th>
            <th colspan="3"></th>
          </tr>
        </thead>

        <tbody>
          <% @person.books.each do |book| %>
            <tr>
              <td><%= book.number %></td>
              <td><%= book.begin_at %></td>
              <td><%= book.end_at %></td>
              <td><%= link_to 'Show', [book.person, book] %></td>
              <td><%= link_to 'Edit', edit_person_book_path(book.person, book) %></td>
              <td><%= link_to 'Destroy', [book.person, book], method: :delete, data: { confirm: 'Are you sure?' } %></td>
            </tr>
          <% end %>
        </tbody>
      </table>

  <%= link_to "Add book", new_person_book_path(@person) %>
</section>

